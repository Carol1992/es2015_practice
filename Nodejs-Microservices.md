# Node.js 微服务

### 微服务架构
1. 单块软件架构：大多数公司只有两个大的软件组件，即面向用户的网站和内部的管理系统
2. 与面向服务架构(SOA)的区别：微服务是细粒度的SOA组件，即某单个SOA组件可以被拆成多个微服务，而这些微服务通过分工协作，可以提供与原SOA组件相同级别的功能。
3. API聚合是一项用于将不同功能组合成一个接口的高级技术，微服务框架seneca就使用这个技术。

### 基于seneca和PM2构建node.js微服务
1. 每个node应用的根目录下面都有一个package.json文件，文件定义了这个项目所需要的各个模块，以及项目的配置信息，是一个自描述文件，文件中的scripts可以指定一些特定的命令来执行不同的动作。
2. 模块化的设计原则：SOLID,即单一职责原则、对扩展开发，对修改关闭原则、里氏替换原则、接口分离原则、依赖倒置原则。
3. seneca中所有的ORM原语都是以$结尾的。seneca基于以下操作，提供了简单的抽象数据层:
1) load:通过标识符读取实体；
2）save:创建实体或通过标识符更新实体；
3）list:列出满足查询条件的所有实体；
4）remove:删除指定标识符对应的实体。
4. PM2是一款可以为服务器实例带来负载均衡功能的生产级别的进程管理器，我们可以自由收缩node应用，是node.js的任务执行器。